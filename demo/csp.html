<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Security-Policy" content="
    style-src 'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=' 'self' 'nonce-123' ;
    img-src  'self' data: ;
    script-src 'self' 'nonce-bootstrap-script';
    worker-src 'self' blob:
  ">
  <title>Editor</title>
  <style></style>
</head>
<body>
<pre id="editor"></pre>

<script src="kitchen-sink/require.js"></script>
<script nonce="bootstrap-script">
// setup paths
require.config({paths: { "ace" : "../lib/ace"}});
// load ace and extensions
require(["ace/ace"], function(ace) {
    
    /// use nonce 
    // require("ace/lib/dom").setCSPWorkaround({nonce: "123"})
    /// add rules to existing stylesheet
    // require("ace/lib/dom").setCSPWorkaround({styleSheet: document.styleSheets[0]})
    /// add rules to empty stylesheet if 'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=' 
    /// is included in style-src
    require("ace/lib/dom").setCSPWorkaround(true);
    
    var editor = ace.edit("editor", {
        theme: "ace/theme/tomorrow_night_eighties",
        mode: "ace/mode/html",
        maxLines: 30,
        wrap: true,
        autoScrollEditorIntoView: true
    });
});
</script>

<script src="./show_own_source.js"></script>

</body>
</html>
